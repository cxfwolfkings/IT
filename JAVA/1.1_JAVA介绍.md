# JAVA介绍

- [JDK历史版本](https://www.oracle.com/technetwork/java/javase/archive-139210.html)
- [Eclipse历史版本](https://wiki.eclipse.org/Older_Versions_Of_Eclipse)

## 诞生历史

- 1990 sun启动 绿色计划
- 1992 创建oak语言-->java
- 1994 Gosling（JAVA之父）参加硅谷大会演示java功能，震惊世界
- 1995 sun正式发布java第一个版本

## 环境搭建

```sh
set JAVA_HOME=C:\jdk
set PATH=%JAVA_HOME%\bin;
set CLASSPATH=%JAVA_HOME%\jre\lib\rt.jar;.
export JAVA_HOME=/usr/local/jdk
export PATH=$JAVA_HOME/bin:$PATH
export CLASSPATH=$JAVA_HOME/jre/lib/rt.jar:.
```

## 基本语法

### 基本类型

- 整型
- 浮点
- 字符
- 布尔

类型|byte|位数|范围
-|-|-|-
byte|1b|8|-128到127
short|2b|16|-2^15到2^15-1 (-32768~32767)
int|4b|32|-2^31到2^31-1 (-2147483648~2147483647约21亿)
long|8b|64|-2^63到2^63-1
float|4b|32|-3.403E38~3.403E38  
double|8b|64|-1.798E308~1.798E308
char|2b|16|'\u0000' ~ '\uffff' 即 0 ~ 65535
boolean|1b|1|false/true

### 值类型和引用类型

引用类型是一个对象类型的，它的值是指向内存空间的引用，就是地址，所指向的内存中保存着变量所表示的一个值或一组值。

声明值类型变量的同时，系统给变量分配了数据空间；引用类型则不然，只给变量分配了引用空间，数据空间没有分配。

### 定义变/常量和变量的初始化

- 变量名必须在作用域中是唯一的，不同作用域中才允许相同名字的变量出现
- 只要在同一代码块没有同名的变量名，可以在程序中任何地方定义变量，一个代码块就是两个相对的 "{ }" 之间部分
- 在类开始处声明的变量是成员变量，作用范围在整个类；
- 在方法和块中声明的变量是局部变量，作用范围到它的 "}"；
- 强制类型转换：由低到高（反之为自动）

  ```java
  int a = 9;
  long b = 3;
  int t = a + b; // b 被自动转换为 int 参与运算
  long a1 = (long)a; // a 被强制转换为 long 赋值给 a1
  ```

- 变量与存储器有着直接关系，定义一个变量就是要编译器分配所需要的内存空间，分配多少空间，这就是根据我们所定义的变量类型所决定的。变量名实际上是代表所分配空间的内存首地址

- 常量：用final说明

  ```java
  final int i = 1;
  ```

### 运算符

优先级由高到低排列：

分类|运算符
-|-
一元运算符|++  --  +  -  !  ~  ()
算术运算符|*  /  %  +  -
位移运算符|<<  >>  >>>
比较运算符|<  <=  >  >=  instanceof ==  !=
按位运算符|&  ^  |
短路运算符|&&  `||`
条件运算符|?:
赋值运算符|=  += -+ *= /=

### 分支、循环语句

```java
if (expr1) {

} else if (expr2) {

} else {

}

switch(expr) {
    case val1:
      break;
    case val2:
      break;
    default:
      break;
}

while(expr) {
    ...
    // break; 跳出循环
    // continue; 跳出本次循环，其后代码不执行
    ...
}

do { // 先执行一次，再判断是否要循环
    ...
} while(expr)

for (int i = 0; i < max; i++) {
    ...
    // break
    // continue
    ...
}
```

### 字符串：String, StringBuffer, StringBuilder

- String 字符串常量
- StringBuffer 字符串变量（线程安全）
- StringBuilder 字符串变量（非线程安全）

>String 是不可变的对象, 因此在每次对String 类型进行改变的时候其实都等同于生成了一个新的String 对象，然后将指针指向新的String 对象，所以经常改变内容的字符串最好不要用String ，因为每次生成对象都会对系统性能产生影响，特别当内存中无引用对象多了以后， JVM 的GC 就会开始工作，那速度是一定会相当慢的。
>
>而如果是使用StringBuffer 类则结果就不一样了，每次结果都会对StringBuffer 对象本身进行操作，而不是生成新的对象，再改变对象引用。所以在一般情况下我们推荐使用StringBuffer ，特别是字符串对象经常改变的情况下。
>
>而在某些特别情况下， String 对象的字符串拼接其实是被JVM 解释成了StringBuffer 对象的拼接，所以这些时候String 对象的速度并不会比StringBuffer 对象慢，而特别是以下的字符串对象生成中，String 效率是远要比StringBuffer 快的：

```java
String S1 = "This is only a" + " simple" + " test";
StringBuffer Sb = new StringBuilder("This is only a").append(" simple").append(" test");
```

>在JVM 眼里，这个 `String S1 = "This is only a" + " simple" + "test";` 其实就是：`String S1 = "This is only a simple test";`
>
>但要注意的是，如果<h style="color:red">字符串是来自另外的String对象</h>，速度就没那么快了，JVM 会规规矩矩的按照原来的方式去做
>
>大部分情况下StringBuilder > StringBuffer / String

### 数组

数组是有序数据的集合，数组中的每个元素具有相同的数组名，根据数组名和下标来唯一确定数组中的元素。

## 面向对象

Oop：Object Oriented Programming（面向对象编程）

### 类、对象和成员的定义

- 类：对象的蓝图，生成对象的模板，是对一类事物的描述，是抽象的概念上的定义
- 对象：对象是实际存在的该类事物的每个个体，因而也称为实例
- 类之间的三种关系：依赖关系（uses-a）聚集关系（has-a）继承关系（is-a）

> 在java 中，类和对象的关系就像是动物和老虎的关系一样，老虎属于动物，老虎只是动物的一个实例。

在类中定义其实都称之为成员。成员有两种：

1. 成员变量：其实对应的就是事物的属性。
2. 成员函数：其实对应的就是事物的行为。

>所以，其实定义类，就是在定义成员变量和成员函数。但是在定义前，必须先要对事物进行属性和行为的分析。才可以用代码来体现。

成员变量和局部变量的区别：

1. 成员变量直接定义在类中。局部变量定义在方法中，参数上，语句中。
2. 成员变量在这个类中有效。局部变量只在自己所属的大括号内有效，大括号结束，局部变量失去作用域。
3. 成员变量存在于堆内存中，随着对象的产生而存在，消失而消失。局部变量存在于栈内存中，随着所属区域的运行而存在，结束而释放。
