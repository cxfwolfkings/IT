@page
@model MainModel
@{

}
<div class="prodContainer container">
    <table id="dg" title="Custom DataGrid Pager" style="width:700px;height:250px"
           data-options="rownumbers:true,singleSelect:true,pagination:true,method:'get'">
        <thead>
            <tr>
                <th data-options="field:'itemid',width:80">Item ID</th>
                <th data-options="field:'productid',width:100">Product</th>
                <th data-options="field:'listprice',width:80,align:'right'">List Price</th>
                <th data-options="field:'unitcost',width:80,align:'right'">Unit Cost</th>
                <th data-options="field:'attr1',width:240">Attribute</th>
                <th data-options="field:'status',width:60,align:'center'">Status</th>
            </tr>
        </thead>
    </table>
</div>
<div class="prodTContainer container">
    <ul class="easyui-tree" url="@Url.Action("GetProdType")">
        <li>
            <span>全部类别</span>
            <ul>
                <li data-options="state:'closed'">
                    <span>Photos</span>
                    <ul>
                        <li>
                            <span>Friend</span>
                        </li>
                        <li>
                            <span>Wife</span>
                        </li>
                        <li>
                            <span>Company</span>
                        </li>
                    </ul>
                </li>
                <li>
                    <span>Program Files</span>
                    <ul>
                        <li>Intel</li>
                        <li>Java</li>
                        <li>Microsoft Office</li>
                        <li>Games</li>
                    </ul>
                </li>
                <li>index.html</li>
                <li>about.html</li>
                <li>welcome.html</li>
            </ul>
        </li>
    </ul>
</div>
@section Styles {
    <style>
        .container{
            display:none;
        }
    </style>
}
@section Scripts {
    <script>
        $(function () {
            var pager = $('#dg').datagrid().datagrid('getPager');	// get the pager of datagrid
            pager.pagination({
                buttons: [{
                    iconCls: 'icon-search',
                    handler: function () {
                        alert('search');
                    }
                }, {
                    iconCls: 'icon-add',
                    handler: function () {
                        alert('add');
                    }
                }, {
                    iconCls: 'icon-edit',
                    handler: function () {
                        alert('edit');
                    }
                }]
            });
        })
        function showTable(node) {
            if (!node.children) {
                $('.' + showTable.prodTypes[node.text]).show();
            }
        }
        showTable.prodTypes = {
            商品类别: 'prodTContainer'
        }
    </script>
}